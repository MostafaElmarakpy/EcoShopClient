<div class="d-flex justify-content-between align-items-center mb-3">
  <h4>Users (Admin)</h4>
  <button mat-raised-button color="primary" (click)="openCreate()">Add User</button>
</div>

<table class="table mat-elevation-z1">
  <thead class="table-light">
    <tr>
      <th>ID</th><th>Name</th><th>Email</th><th>Roles</th><th>Status</th><th>Action</th>
    </tr>
  </thead>
  <tbody>
    @for ( u of userList; track u.id) {
      <tr>
        <td>{{ u.id }}</td>
        <td>{{ u.userName }}</td>
        <td>{{ u.email }}</td>
        <td>
          @if (u.roles?.length) {
            @for ( r of u.roles; track r) { <span class="badge bg-secondary me-1">{{ r }}</span> } @empty { }
          } @else { <span class="text-muted">No roles</span> }
        </td>
        <td>
          @if (u.isActive) { <span class="text-success">Active</span> } @else { <span class="text-muted">Inactive</span> }
        </td>
        <td>
            <button class="btn btn-sm btn-primary me-2" (click)="openEdit(u)">Edit</button>
            <button class="btn btn-sm btn-danger" (click)="confirmDelete(u.id)">Delete</button>
        </td>
      </tr>
    } @empty {
      <tr><td colspan="6" class="text-center">No users found.</td></tr>
    }
  </tbody>
</table>
